<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Invitation</title>
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
  <script>
    (function() {
      emailjs.init("UMKUtiMmEfDbPdjN5"); // –¢–≤–æ–π publicKey
    })();

    function sendResponse(response, place = null, type = null, location = null) {
      const message = `
        Response: ${response}
        Place: ${place || "N/A"}
        Type: ${type || "N/A"}
        Location: ${location || "N/A"}
      `;

      emailjs
        .send("service_824qfo3", "template_75hg6au", {
          response,
          place,
          type,
          location,
        })
        .then(
          function() {
            alert("–û—Ç–≤–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω! –ñ–¥–∏—Ç–µ –ø–∏—Å—å–º–∞ üòä");
          },
          function(error) {
            alert("–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ üò¢ –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ");
          }
        );
    }

    function showDecision(response) {
      if (response === "–ù–µ—Ç") {
        sendResponse("–ù–µ—Ç");
      } else {
        document.getElementById("place-options").style.display = "block";
      }
    }

    function choosePlace(place) {
      if (place === "–î–æ–º–∞") {
        document.getElementById("place-options").style.display = "none";
        document.getElementById("home-options").style.display = "block";
      } else {
        document.getElementById("place-options").style.display = "none";
        document.getElementById("outside-options").style.display = "block";
      }
    }

    function chooseHome(location) {
      sendResponse("–ò–¥—É", "–î–æ–º–∞", null, location);
    }

    function chooseType(type) {
      sendResponse("–ò–¥—É", "–ù–∞ —É–ª–∏—Ü–µ", type);
    }
  </script>
</head>
<body>
  <h1>–ü–æ–π–¥—ë—à—å –Ω–∞ —Å–≤–∏–¥–∞–Ω–∏–µ? ü•∞</h1>
  <button onclick="showDecision('–î–∞')">–î–∞</button>
  <button onclick="showDecision('–ù–µ—Ç')">–ù–µ—Ç</button>

  <div id="place-options" style="display: none; margin-top: 20px;">
    <h2>–ì–¥–µ –ø—Ä–æ–≤–µ–¥–µ–º —Å–≤–∏–¥–∞–Ω–∏–µ?</h2>
    <button onclick="choosePlace('–î–æ–º–∞')">–î–æ–º–∞</button>
    <button onclick="choosePlace('–ù–∞ —É–ª–∏—Ü–µ')">–ù–∞ —É–ª–∏—Ü–µ</button>
  </div>

  <div id="home-options" style="display: none; margin-top: 20px;">
    <h2>–£ —Ç–µ–±—è –∏–ª–∏ —É –º–µ–Ω—è? üè†</h2>
    <button onclick="chooseHome('–£ –º–µ–Ω—è')">–£ –º–µ–Ω—è</button>
    <button onclick="chooseHome('–£ —Ç–µ–±—è')">–£ —Ç–µ–±—è</button>
  </div>

  <div id="outside-options" style="display: none; margin-top: 20px;">
    <h2>–í—ã–±–µ—Ä–∏ —Ç–∏–ø —Å–≤–∏–¥–∞–Ω–∏—è –Ω–∞ —É–ª–∏—Ü–µ üå≥</h2>
    <button onclick="chooseType('–ö–∞—Ñ–µ')">–ö–∞—Ñ–µ</button>
    <button onclick="chooseType('–ü—Ä–æ–≥—É–ª–∫–∞ –≤ –ø–∞—Ä–∫–µ')">–ü—Ä–æ–≥—É–ª–∫–∞ –≤ –ø–∞—Ä–∫–µ</button>
    <button onclick="chooseType('–ö–∏–Ω–æ')">–ö–∏–Ω–æ</button>
  </div>
</body>
</html>
